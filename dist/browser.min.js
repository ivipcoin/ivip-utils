!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ivipUtils=t():e.ivipUtils=t()}(this,(()=>(()=>{"use strict";var e={627:(e,t)=>{function r(e,t,r){const n=[0,0,0,0,0];for(let a=0;a<t;a+=4){let t=256*(256*(256*e[a]+e[a+1])+e[a+2])+e[a+3];if(t){for(let e=0;e<5;n[e++]=t%85+33,t=Math.floor(t/85));r.push(String.fromCharCode(n[4],n[3],n[2],n[1],n[0]))}else r.push("z")}}Object.defineProperty(t,"__esModule",{value:!0});const n={encode:function(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e,0,e.byteLength)),function(e){var t;const n=e,a=[],i=n.length%4,o=n.length-i;if(r(n,o,a),i){const e=new Uint8Array(4);e.set(n.slice(o),0),r(e,4,a);let s=null!==(t=a.pop())&&void 0!==t?t:"";"z"==s&&(s="!!!!!"),a.push(s.substr(0,i+1))}let s=a.join("");return s="<~"+s+"~>",s}(e)},decode:function(e){if(!e.startsWith("<~")||!e.endsWith("~>"))throw new Error("Invalid input string");const t=(e=e.substr(2,e.length-4)).length,r=[],n=[0,0,0,0,0];let a,i,o,s;for(let u=0;u<t;++u)if("z"!=e.charAt(u)){for(let t=0;t<5;++t)n[t]=e.charCodeAt(u+t)-33;if(s=t-u,s<5){for(let e=s;e<4;n[++e]=0);n[s]=85}a=85*(85*(85*(85*n[0]+n[1])+n[2])+n[3])+n[4],i=255&a,a>>>=8,o=255&a,a>>>=8,r.push(a>>>8,255&a,o,i);for(let e=s;e<5;++e,r.pop());u+=4}else r.push(0,0,0,0);const u=new Uint8Array(r);return u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}};t.default=n},550:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.value=e,this.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static utf8_encode(e){let t=e.replace(/rn/g,"n"),r="";for(let e=0;e<t.length;e++){let n=t.charCodeAt(e);n<128?r+=String.fromCharCode(n):n>127&&n<2048?(r+=String.fromCharCode(n>>6|192),r+=String.fromCharCode(63&n|128)):(r+=String.fromCharCode(n>>12|224),r+=String.fromCharCode(n>>6&63|128),r+=String.fromCharCode(63&n|128))}return r}static utf8_decode(e){let t="",r=0,n=0,a=0,i=0;for(;r<e.length;)n=e.charCodeAt(r),n<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(a=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),i=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&i),r+=3);return t}encode(){let e,t,n,a,i,o,s,u="",l=0,f=r.utf8_encode(this.value);for(;l<f.length;)e=f.charCodeAt(l++),t=f.charCodeAt(l++),n=f.charCodeAt(l++),a=e>>2,i=(3&e)<<4|t>>4,o=(15&t)<<2|n>>6,s=63&n,isNaN(t)?o=s=64:isNaN(n)&&(s=64),u=u+this.keyStr.charAt(a)+this.keyStr.charAt(i)+this.keyStr.charAt(o)+this.keyStr.charAt(s);return u}static encode(e){return new r(e).encode()}decode(){let e,t,n,a,i,o,s,u="",l=0,f=this.value.replace(/[^A-Za-z0-9+/=]/g,"");for(;l<f.length;)a=this.keyStr.indexOf(f.charAt(l++)),i=this.keyStr.indexOf(f.charAt(l++)),o=this.keyStr.indexOf(f.charAt(l++)),s=this.keyStr.indexOf(f.charAt(l++)),e=a<<2|i>>4,t=(15&i)<<4|o>>2,n=(3&o)<<6|s,u+=String.fromCharCode(e),64!=o&&(u+=String.fromCharCode(t)),64!=s&&(u+=String.fromCharCode(n));return u=r.utf8_decode(u),u}static decode(e){return new r(e).decode()}}t.default=r},995:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t)=>1-3*t+3*e,n=(e,t)=>3*t-6*e,a=e=>3*e,i=(e,t,i)=>((r(t,i)*e+n(t,i))*e+a(t))*e,o=(e,t,i)=>3*r(t,i)*e*e+2*n(t,i)*e+a(t),s=e=>{const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},u={linear:"linear",elastic:"elastic",ease:"ease","ease-in":"easeIn","ease-in-elastic":"easeInElastic","ease-in-bounce":"easeInBounce","ease-in-expo":"easeInExpo","ease-in-sine":"easeInSine","ease-in-quad":"easeInQuad","ease-in-cubic":"easeInCubic","ease-in-back":"easeInBack","ease-in-quart":"easeInQuart","ease-in-quint":"easeInQuint","ease-in-circ":"easeInCirc","ease-in-out":"easeInOut","ease-in-out-elastic":"easeInOutElastic","ease-in-out-bounce":"easeInOutBounce","ease-in-out-sine":"easeInOutSine","ease-in-out-quad":"easeInOutQuad","ease-in-out-cubic":"easeInOutCubic","ease-in-out-back":"easeInOutBack","ease-in-out-quart":"easeInOutQuart","ease-in-out-quint":"easeInOutQuint","ease-in-out-expo":"easeInOutExpo","ease-in-out-circ":"easeInOutCirc","ease-out":"easeOut","ease-out-elastic":"easeOutElastic","ease-out-bounce":"easeOutBounce","ease-out-sine":"easeOutSine","ease-out-quad":"easeOutQuad","ease-out-cubic":"easeOutCubic","ease-out-back":"easeOutBack","ease-out-quart":"easeOutQuart","ease-out-quint":"easeOutQuint","ease-out-expo":"easeOutExpo","ease-out-circ":"easeOutCirc","fast-out-slow-in":"fastOutSlowIn","fast-out-linear-in":"fastOutLinearIn","linear-out-slow-in":"linearOutSlowIn"};class l{constructor(e,t,r,n){if(this.x1=e,this.y1=t,this.x2=r,this.y2=n,this.kSplineTableSize=11,this.kSampleStepSize=1/(this.kSplineTableSize-1),this.sampleValues="function"==typeof Float32Array?new Float32Array(this.kSplineTableSize):new Array(this.kSplineTableSize),!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");for(let t=0;t<this.kSplineTableSize;++t)this.sampleValues[t]=i(t*this.kSampleStepSize,e,r)}to(e){if(this.x1===this.y1&&this.x2===this.y2)return e;const t={x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,kSplineTableSize:this.kSplineTableSize,kSampleStepSize:this.kSampleStepSize,sampleValues:this.sampleValues};return 0===e?0:1===e?1:i(((e,t)=>{let r=0,n=1,a=t.kSplineTableSize-1;for(;n!==a&&t.sampleValues[n]<=e;++n)r+=t.kSampleStepSize;--n;let s=r+(e-t.sampleValues[n])/(t.sampleValues[n+1]-t.sampleValues[n])*t.kSampleStepSize,u=o(s,t.x1,t.x2);return u>=.001?((e,t,r,n)=>{for(let a=0;a<4;++a){let a=o(t,r,n);if(0===a)return t;t-=(i(t,r,n)-e)/a}return t})(e,s,t.x1,t.x2):0===u?s:((e,t,r,n,a)=>{let o,s,u=0;do{s=t+(r-t)/2,o=i(s,n,a)-e,o>0?r=s:t=s}while(Math.abs(o)>1e-7&&++u<10);return s})(e,r,r+t.kSampleStepSize,t.x1,t.x2)})(e,t),this.y1,this.y2)}static linear(e){return e}static elastic(e){return(t=e)*(33*t*t*t*t-106*t*t*t+126*t*t-67*t+15);var t}static ease(e){return new l(.25,.1,.25,1).to(e)}static easeIn(e){return new l(.42,0,1,1).to(e)}static easeInElastic(e){return(e=>{const t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)})(e)}static easeInBounce(e){return 1-s(1-e)}static easeInExpo(e){return new l(.95,.05,.795,.035).to(e)}static easeInSine(e){return new l(.47,0,.75,.72).to(e)}static easeInQuad(e){return new l(.55,.09,.68,.53).to(e)}static easeInCubic(e){return new l(.55,.06,.68,.19).to(e)}static easeInBack(e){return new l(.6,-.28,.74,.05).to(e)}static easeInQuart(e){return new l(.895,.03,.685,.22).to(e)}static easeInQuint(e){return new l(.755,.05,.855,.06).to(e)}static easeInCirc(e){return new l(.6,.04,.98,.335).to(e)}static easeInOut(e){return new l(.42,0,.58,1).to(e)}static easeInOutElastic(e){return(e=>{const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1})(e)}static easeInOutBounce(e){return(t=e)<.5?(1-s(1-2*t))/2:(1+s(2*t-1))/2;var t}static easeInOutSine(e){return new l(.45,.05,.55,.95).to(e)}static easeInOutQuad(e){return new l(.46,.03,.52,.96).to(e)}static easeInOutCubic(e){return new l(.65,.05,.36,1).to(e)}static easeInOutBack(e){return new l(.68,-.55,.27,1.55).to(e)}static easeInOutQuart(e){return new l(.77,0,.175,1).to(e)}static easeInOutQuint(e){return new l(.86,0,.07,1).to(e)}static easeInOutExpo(e){return new l(1,0,0,1).to(e)}static easeInOutCirc(e){return new l(.785,.135,.15,.86).to(e)}static easeOut(e){return new l(0,0,.58,1).to(e)}static easeOutElastic(e){return(e=>{const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1})(e)}static easeOutBounce(e){return s(e)}static easeOutSine(e){return new l(.39,.58,.57,1).to(e)}static easeOutQuad(e){return new l(.25,.46,.45,.94).to(e)}static easeOutCubic(e){return new l(.22,.61,.36,1).to(e)}static easeOutBack(e){return new l(.18,.89,.32,1.28).to(e)}static easeOutQuart(e){return new l(.165,.84,.44,1).to(e)}static easeOutQuint(e){return new l(.23,1,.32,1).to(e)}static easeOutExpo(e){return new l(.19,1,.22,1).to(e)}static easeOutCirc(e){return new l(.075,.82,.165,1).to(e)}static fastOutSlowIn(e){return new l(.4,0,.2,1).to(e)}static fastOutLinearIn(e){return new l(.4,0,1,1).to(e)}static linearOutSlowIn(e){return new l(0,0,.2,1).to(e)}static setInterval(e,t=1,r=1e3,n="linear"){let a,i=0,o=Date.now();const s=async()=>{var f;if(i>r)return void clearTimeout(a);const c=Math.min(1,i/r);n instanceof l?await e(n.to(c)):"function"==typeof n?await e(null!==(f=n(c))&&void 0!==f?f:1):n in u?await e(l[u[n]](c)):await e(c),i=Date.now()-o,a=setTimeout(s,t-i%t)};return s(),a}}t.default=l},709:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.infoColor=t.hslDistance=t.negative=t.growing=t.watershed=t.colorScale=t.grayScale=t.lighten=t.darken=t.blend=t.hwbToRgb=t.cmykToRgb=t.hsvToRgb=t.hslToRgb=t.rgbToHwb=t.rgbToCmyk=t.rgbToHsv=t.rgbToHsl=t.rgbToHex=t.hexToRgb=t.colorNames=void 0,t.colorNames={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};const r=e=>1==e.length?"0"+e:e;t.hexToRgb=e=>[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)],t.rgbToHex=(e,t,n)=>isNaN(e)||0>e||255<e||isNaN(t)||0>t||255<t||isNaN(n)||0>n||255<n?"#000000":"#"+[r(e.toString(16)),r(t.toString(16)),r(n.toString(16))].join(""),t.rgbToHsl=(e,t,r)=>{e/=255,t/=255,r/=255;let n=Math.max(e,t,r),a=Math.min(e,t,r),i=0,o=0,s=.5*(n+a);return n!=a&&(n==e?i=60*(t-r)/(n-a):n==t?i=60*(r-e)/(n-a)+120:n==r&&(i=60*(e-t)/(n-a)+240)),o=0<s&&.5>=s?(n-a)/(2*s):(n-a)/(2-2*s),[Math.round(i+360)%360,Math.round(100*o),Math.round(100*s)]},t.rgbToHsv=(e,t,r)=>{let n,a=Math.max(Math.max(e,t),r),i=Math.min(Math.min(e,t),r);return i==a?i=e=0:(n=a-i,i=n/a,0>(e=60*(e==a?(t-r)/n:t==a?2+(r-e)/n:4+(e-t)/n))?e+=360:360<e&&(e-=360)),[Math.round(e),Math.round(100*i),Math.round(100*a/255)]},t.rgbToCmyk=(e,t,r)=>{let n,a,i,o,s,u,l;return 0==e&&0==t&&0==r?(n=a=i=0,o=1):(s=1-e/255,u=1-t/255,l=1-r/255,o=Math.min(s,Math.min(u,l)),n=(s-o)/(1-o),a=(u-o)/(1-o),i=(l-o)/(1-o)),[Math.round(100*n),Math.round(100*a),Math.round(100*i),Math.round(100*o)]},t.rgbToHwb=(e,r,n)=>{let a,i,o,s,u,l,f;return u=(0,t.rgbToHsv)(e,r,n)[0],e/=255,r/=255,n/=255,o=Math.min(e,r,n),s=Math.max(e,r,n),n=1-s,s===o?(l=Math.round(100*o),f=Math.round(100*n)):(a=e===o?r-n:r===o?n-e:e-r,i=e===o?3:r===o?5:1,u=Math.round((i-a/(s-o))/6*100*360/100),0>u?u+=360:360<u&&(u-=360),l=Math.round(100*o),f=Math.round(100*n)),[Math.round(u),Math.round(l),Math.round(f)]};const n=(e,t,r)=>(0>r?r+=1:1<r&&(r-=1),1>6*r?e+6*(t-e)*r:1>2*r?t:2>3*r?e+(t-e)*(2/3-r)*6:e);t.hslToRgb=(e,t,r)=>{let a,i=0,o=0,s=0;return e/=360,0==t?i=o=s=255*r:(a=s=0,a=.5>r?r*(1+t):r+t-t*r,s=2*r-a,i=255*n(s,a,e+1/3),o=255*n(s,a,e),s=255*n(s,a,e-1/3)),[Math.round(i),Math.round(o),Math.round(s)]},t.hsvToRgb=(e,t,r)=>{let n,a,i,o,s,u,l,f,c,d,p;return 0==t?n=a=i=Math.round(255*r):(l=6*e==6?0:6*e,f=Math.floor(l),c=r*(1-t),d=r*(1-t*(l-f)),p=r*(1-t*(1-(l-f))),0==f?(o=r,s=p,u=c):1==f?(o=d,s=r,u=c):2==f?(o=c,s=r,u=p):3==f?(o=c,s=d,u=r):4==f?(o=p,s=c,u=r):(o=r,s=c,u=d),n=Math.round(255*o),a=Math.round(255*s),i=Math.round(255*u)),[n,a,i]},t.cmykToRgb=(e,t,r,n)=>{let a=255*(1-e)*(1-n),i=255*(1-t)*(1-n),o=255*(1-r)*(1-n);return[Math.round(a),Math.round(i),Math.round(o)]},t.hwbToRgb=(e,t,r)=>{let n,a,i,o,s,u,l;return o=1-r,l=0|(e*=6),u=e-l,1&l&&(u=1-u),s=t+u*(o-t),o=255*o|0,s=255*s|0,t=255*t|0,0==l?(n=o,a=s,i=t):1==l?(n=s,a=o,i=t):2==l?(n=t,a=o,i=s):3==l?(n=t,a=s,i=o):4==l?(n=s,a=t,i=o):5==l?(n=o,a=t,i=s):n=a=i=o,[Math.round(n),Math.round(a),Math.round(i)]},t.blend=(e,t,r)=>(r=Math.min(Math.max(r,0),1),[Math.round(r*e[0]+(1-r)*t[0]),Math.round(r*e[1]+(1-r)*t[1]),Math.round(r*e[2]+(1-r)*t[2])]),t.darken=(e,r)=>(0,t.blend)([0,0,0],e,r),t.lighten=(e,r)=>(0,t.blend)([255,255,255],e,r),t.grayScale=e=>{let t=Math.round((e[0]+e[1]+e[2])/3);return[t,t,t]},t.colorScale=(e,r,n)=>{r=null==r?[255,255,255]:r,n=null==n?[0,0,0]:n;let a=100*(0,t.grayScale)(e)[0]/255;return(0,t.blend)(r,n,a)},t.watershed=e=>(0,t.grayScale)(e)[0]>=127.5?[255,255,255]:[0,0,0],t.growing=e=>{let r=(0,t.grayScale)(e)[0];return(0,t.hslToRgb)(Math.round(360*r/255),1,.5)},t.negative=e=>[Math.round(255-e[0]),Math.round(255-e[1]),Math.round(255-e[2])],t.hslDistance=(e,t)=>{let r,n;return e=[e[0],e[1]/100,e[2]/100],t=[t[0],t[1]/100,t[2]/100],r=.5>=e[2]?e[1]*e[2]:e[1]*(1-e[2]),n=.5>=t[2]?t[1]*t[2]:t[1]*(1-t[2]),Math.round(100*((e[2]-t[2])*(e[2]-t[2])+r*r+n*n-2*r*n*Math.cos(2*(e[0]/360-t[0]/360)*Math.PI)))},t.infoColor=e=>{let r,n,a,i,o={type:void 0,string:void 0,array:void 0};return(r=/^((?:rgb|hs[lv]|cmyk|hwb)a?)\s*\(([^\)]*)\)/.exec(String(e)))?(n=r[1],a=n.replace(/a$/,""),i="cmyk"===a?4:3,r[2]=r[2].replace(/^\s+|\s+$/g,"").split(/\s*,\s*/).map(((e,t)=>/%$/.test(e)&&t===i?parseFloat(e)/100:(/%$/.test(e),parseFloat(e)))),o.type=a,o.string=e,o.array=r[2]):/^#[A-Fa-f0-9]+$/.test(e)?(o.type="hex",o.string=e,o.array=(0,t.hexToRgb)(e)):Object.keys(t.colorNames).includes(String(e).toLowerCase())&&(o.type="name",o.string=e,o.array=(0,t.hexToRgb)(t.colorNames[e])),o};class a{constructor(e="#000000"){this.value="#000000",this.value=Array.isArray(e)?t.rgbToHex.apply(null,e):e,this.info=(0,t.infoColor)(this.value),this.type=this.info.type;const r={rgb:[0,0,0],string:"#000000",hex:"#000000",hsl:[0,0,0],hsv:[0,0,0],cmyk:[0,0,0,0],hwb:[0,0,0]};if(Array.isArray(this.info.array))switch(this.type){case"name":this.props=a.colorName(this.value);break;case"hex":this.props=a.hex(this.value);break;case"rgb":this.props=a.rgb.apply(null,this.info.array);break;case"hsl":this.props=a.hsl.apply(null,this.info.array);break;case"cmyk":this.props=a.cmyk.apply(null,this.info.array);break;case"hwb":this.props=a.hwb.apply(null,this.info.array);break;case"hsv":this.props=a.hsv.apply(null,this.info.array);break;default:this.props=r}else this.props=r}get isValidColor(){return a.isColor(this.value)}get hex(){return this.props.hex}get rgb(){return"rgb("+this.props.rgb.join(", ")+")"}get hsl(){return"hsl("+this.props.hsl.map(((e,t)=>e+(t>0?"%":""))).join(", ")+")"}get hsv(){return"hsv("+this.props.hsv.map(((e,t)=>e+(t>0?"%":""))).join(", ")+")"}get cmyk(){return"cmyk("+this.props.cmyk.join("%, ")+")"}get hwb(){return"hwb("+this.props.hsv.map(((e,t)=>e+(t>0?"%":""))).join(", ")+")"}get string(){return this.props.string}get vector(){return(0,t.infoColor)(this.rgb).array}distance(e){return(0,t.hslDistance)(this.props.hsl,new a(e).props.hsl)}blend(e,r){const n=(0,t.blend)(this.props.rgb,new a(e).props.rgb,r);return new a("rgb("+n.join(", ")+")")}static blend(e,t,r){return new a(e).blend(t,r)}darken(e){let r=(0,t.darken)(this.props.rgb,e);return new a("rgb("+r.join(", ")+")")}lighten(e){let r=(0,t.lighten)(this.props.rgb,e);return new a("rgb("+r.join(", ")+")")}grayScale(){let e=(0,t.grayScale)(this.props.rgb);return new a("rgb("+e.join(", ")+")")}colorScale(e,r){const n=(0,t.colorScale)(this.props.rgb,new a(null==e?"#ffffff":e).props.rgb,new a(null==r?"#000000":r).props.rgb);return new a("rgb("+n.join(", ")+")")}watershed(){let e=(0,t.watershed)(this.props.rgb);return new a("rgb("+e.join(", ")+")")}growing(){let e=(0,t.growing)(this.props.rgb);return new a("rgb("+e.join(", ")+")")}negative(){let e=(0,t.negative)(this.props.rgb);return new a("rgb("+e.join(", ")+")")}static isColor(e){var r;try{let n=(0,t.infoColor)(e);if(["hex","name","rgb","hsl","hsv","cmyk","hwb","rgba","hsla","hsva","cmyka","hwba"].includes(null!==(r=n.type)&&void 0!==r?r:""))return!0}catch(e){return!1}return!1}static colorName(e){const r=t.colorNames[e];let n=a.hex(r);return n.string=String(e).toLowerCase(),n}static hex(e){e="#"==(e=String(e)).charAt(0)?e:"#"+e;let r=/^#(?:[0-9a-f]{3}){1,2}$/i;var n;(function(e){return r.test(e)})(n=e)||(n="#000000"),4==n.length&&(n=n.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),e=n.toLowerCase();let i=a.rgb.apply(null,(0,t.hexToRgb)(e));return i.string=e,i.hex=e,i}static rgb(e,r,n){const a=[e=Math.round(Number(e)),r=Math.round(Number(r)),n=Math.round(Number(n))];return{rgb:a,string:"rgb("+a.join(", ")+")",hex:(0,t.rgbToHex)(e,r,n),hsl:(0,t.rgbToHsl)(e,r,n),hsv:(0,t.rgbToHsv)(e,r,n),cmyk:(0,t.rgbToCmyk)(e,r,n),hwb:(0,t.rgbToHwb)(e,r,n)}}static hsl(e,r,n){e=Math.round(Number(e)),r=Number(r)/100,n=Number(n)/100;const i=(0,t.hslToRgb)(e,r,n);let o=a.rgb.apply(null,i);return o.hsl=[Math.round(e),Math.round(100*r),Math.round(100*n)],o.string="hsl("+o.hsl.map(((e,t)=>e+(t>0?"%":""))).join(", ")+")",o}static hsv(e,r,n){e=Math.round(Number(e)),r=Number(r)/100,n=Number(n)/100;const i=(0,t.hsvToRgb)(e,r,n);let o=a.rgb.apply(null,i);return o.hsv=[Math.round(e),Math.round(100*r),Math.round(100*n)],o.string="hsv("+o.hsv.map(((e,t)=>e+(t>0?"%":""))).join(", ")+")",o}static cmyk(e,r,n,i){e=Number(e)/100,r=Number(r)/100,n=Number(n)/100,i=Number(i)/100;const o=(0,t.cmykToRgb)(e,r,n,i);let s=a.rgb.apply(null,o);return s.cmyk=[Math.round(100*e),Math.round(100*r),Math.round(100*n),Math.round(100*i)],s.string="cmyk("+s.cmyk.join("%, ")+"%)",s}static hwb(e,r,n){e=Number(e)/360,r=Number(r)/100,n=Number(n)/100;const i=(0,t.hwbToRgb)(e,r,n);let o=a.rgb.apply(null,i);return o.hwb=[Math.round(360*e),Math.round(100*r),Math.round(100*n)],o.string="hwb("+o.hwb.map(((e,t)=>e+(t>0?"%":""))).join(", ")+")",o}}t.default=a},10:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(827),a=e=>{const t=e=>(0,n.isUndefined)(e)||(0,n.isFunction)(e)||(0,n.isSymbol)(e),r=e=>{const t=e.split("");return t.pop(),t.join("")};if(t(e))return"{}";if((0,n.isDate)(e))return`"${new Date(e).toISOString()}"`;if(i=e,(0,n.isNotNumber)(i)||(0,n.isInfinity)(i)||(0,n.isNull)(i))return"null";var i;if((0,n.isSymbol)(e))return"{}";if((e=>(0,n.isNumber)(e)||(0,n.isString)(e)||(0,n.isBoolean)(e))(e))return JSON.stringify(e);if((0,n.isArray)(e)){let i="";return e.forEach((e=>{i+=(e=>(0,n.isNotNumber)(e)||(0,n.isInfinity)(e)||(0,n.isNull)(e)||t(e))(e)?a(null):a(e),i+=","})),"["+r(i)+"]"}if((0,n.isObject)(e)){let n="";return Object.keys(e).forEach((r=>{const i=e[r];n+=t(i)?"":`"${r}":${a(i)},`})),"{"+r(n)+"}"}return"{}"};t.default=a},829:(e,t)=>{function r(e,t){try{e(t)}catch(e){console.error("Error in subscription callback",e)}}Object.defineProperty(t,"__esModule",{value:!0});const n=Symbol("subscriptions"),a=Symbol("oneTimeEvents");t.default=class{constructor(){this[n]=[],this[a]=new Map}on(e,t){this[a].has(e)?r(t,this[a].get(e)):this[n].push({event:e,callback:t,once:!1});const i=this;return{stop(){i.off(e,t)}}}off(e,t){return this[n]=this[n].filter((r=>r.event!==e||t&&r.callback!==t)),this}once(e,t){return new Promise((i=>{const o=e=>{i(e),null==t||t(e)};this[a].has(e)?r(o,this[a].get(e)):this[n].push({event:e,callback:o,once:!0})}))}emit(e,t){if(this[a].has(e))throw new Error(`Event "${e}" was supposed to be emitted only once`);for(let a=0;a<this[n].length;a++){const i=this[n][a];i.event===e&&(r(i.callback,t),i.once&&(this[n].splice(a,1),a--))}return this}emitOnce(e,t){if(this[a].has(e))throw new Error(`Event "${e}" was supposed to be emitted only once`);return this.emit(e,t),this[a].set(e,t),this.off(e),this}pipe(e,t){return this.on(e,(r=>{t.emit(e,r)}))}pipeOnce(e,t){return this.once(e,(r=>{t.emitOnce(e,r)}))}}},565:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.mat4=void 0,t.mat4=i(r(218))},218:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.transpose=t.translate=t.str=t.scale=t.rotateZ=t.rotateY=t.rotateX=t.rotate=t.perspectiveFromFieldOfView=t.perspective=t.ortho=t.multiply=t.lookAt=t.invert=t.identity=t.frustum=t.fromZRotation=t.fromYRotation=t.fromXRotation=t.fromTranslation=t.fromScaling=t.fromRotationTranslation=t.fromRotation=t.fromQuat=t.determinant=t.create=t.copy=t.clone=t.adjoint=void 0,t.adjoint=(e,t)=>{let r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],f=t[8],c=t[9],d=t[10],p=t[11],h=t[12],b=t[13],g=t[14],m=t[15];return e[0]=s*(d*m-p*g)-c*(u*m-l*g)+b*(u*p-l*d),e[1]=-(n*(d*m-p*g)-c*(a*m-i*g)+b*(a*p-i*d)),e[2]=n*(u*m-l*g)-s*(a*m-i*g)+b*(a*l-i*u),e[3]=-(n*(u*p-l*d)-s*(a*p-i*d)+c*(a*l-i*u)),e[4]=-(o*(d*m-p*g)-f*(u*m-l*g)+h*(u*p-l*d)),e[5]=r*(d*m-p*g)-f*(a*m-i*g)+h*(a*p-i*d),e[6]=-(r*(u*m-l*g)-o*(a*m-i*g)+h*(a*l-i*u)),e[7]=r*(u*p-l*d)-o*(a*p-i*d)+f*(a*l-i*u),e[8]=o*(c*m-p*b)-f*(s*m-l*b)+h*(s*p-l*c),e[9]=-(r*(c*m-p*b)-f*(n*m-i*b)+h*(n*p-i*c)),e[10]=r*(s*m-l*b)-o*(n*m-i*b)+h*(n*l-i*s),e[11]=-(r*(s*p-l*c)-o*(n*p-i*c)+f*(n*l-i*s)),e[12]=-(o*(c*g-d*b)-f*(s*g-u*b)+h*(s*d-u*c)),e[13]=r*(c*g-d*b)-f*(n*g-a*b)+h*(n*d-a*c),e[14]=-(r*(s*g-u*b)-o*(n*g-a*b)+h*(n*u-a*s)),e[15]=r*(s*d-u*c)-o*(n*d-a*c)+f*(n*u-a*s),e},t.clone=e=>{let t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.copy=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e),t.create=()=>{let e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.determinant=e=>{const t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],l=e[8],f=e[9],c=e[10],d=e[11],p=e[12],h=e[13],b=e[14],g=e[15];return(t*o-r*i)*(c*g-d*b)-(t*s-n*i)*(f*g-d*h)+(t*u-a*i)*(f*b-c*h)+(r*s-n*o)*(l*g-d*p)-(r*u-a*o)*(l*b-c*p)+(n*u-a*s)*(l*h-f*p)},t.fromQuat=(e,t)=>{const r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,u=a+a,l=r*o,f=n*o,c=n*s,d=a*o,p=a*s,h=a*u,b=i*o,g=i*s,m=i*u;return e[0]=1-c-h,e[1]=f+m,e[2]=d-g,e[3]=0,e[4]=f-m,e[5]=1-l-h,e[6]=p+b,e[7]=0,e[8]=d+g,e[9]=p-b,e[10]=1-l-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotation=(e,t,r)=>{let n,a,i,o=r[0],s=r[1],u=r[2],l=Math.sqrt(o*o+s*s+u*u);return Math.abs(l)<1e-6?null:(l=1/l,o*=l,s*=l,u*=l,n=Math.sin(t),a=Math.cos(t),i=1-a,e[0]=o*o*i+a,e[1]=s*o*i+u*n,e[2]=u*o*i-s*n,e[3]=0,e[4]=o*s*i-u*n,e[5]=s*s*i+a,e[6]=u*s*i+o*n,e[7]=0,e[8]=o*u*i+s*n,e[9]=s*u*i-o*n,e[10]=u*u*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},t.fromRotationTranslation=(e,t,r)=>{let n=t[0],a=t[1],i=t[2],o=t[3],s=n+n,u=a+a,l=i+i,f=n*s,c=n*u,d=n*l,p=a*u,h=a*l,b=i*l,g=o*s,m=o*u,y=o*l;return e[0]=1-(p+b),e[1]=c+y,e[2]=d-m,e[3]=0,e[4]=c-y,e[5]=1-(f+b),e[6]=h+g,e[7]=0,e[8]=d+m,e[9]=h-g,e[10]=1-(f+p),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},t.fromScaling=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e),t.fromTranslation=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e),t.fromXRotation=(e,t)=>{const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromYRotation=(e,t)=>{const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromZRotation=(e,t)=>{let r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.frustum=(e,t,r,n,a,i,o)=>{let s=1/(r-t),u=1/(a-n),l=1/(i-o);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(a+n)*u,e[10]=(o+i)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*l,e[15]=0,e},t.identity=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e),t.invert=(e,t)=>{let r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],f=t[8],c=t[9],d=t[10],p=t[11],h=t[12],b=t[13],g=t[14],m=t[15],y=r*s-n*o,w=r*u-a*o,x=r*l-i*o,v=n*u-a*s,M=n*l-i*s,O=a*l-i*u,S=f*b-c*h,k=f*g-d*h,j=f*m-p*h,C=c*g-d*b,A=c*m-p*b,I=d*m-p*g,T=y*I-w*A+x*C+v*j-M*k+O*S;return T?(T=1/T,e[0]=(s*I-u*A+l*C)*T,e[1]=(a*A-n*I-i*C)*T,e[2]=(b*O-g*M+m*v)*T,e[3]=(d*M-c*O-p*v)*T,e[4]=(u*j-o*I-l*k)*T,e[5]=(r*I-a*j+i*k)*T,e[6]=(g*x-h*O-m*w)*T,e[7]=(f*O-d*x+p*w)*T,e[8]=(o*A-s*j+l*S)*T,e[9]=(n*j-r*A-i*S)*T,e[10]=(h*M-b*x+m*y)*T,e[11]=(c*x-f*M-p*y)*T,e[12]=(s*k-o*C-u*S)*T,e[13]=(r*C-n*k+a*S)*T,e[14]=(b*w-h*v-g*y)*T,e[15]=(f*v-c*w+d*y)*T,e):null},t.lookAt=(e,r,n,a)=>{let i,o,s,u,l,f,c,d,p,h,b=r[0],g=r[1],m=r[2],y=a[0],w=a[1],x=a[2],v=n[0],M=n[1],O=n[2];return Math.abs(b-v)<1e-6&&Math.abs(g-M)<1e-6&&Math.abs(m-O)<1e-6?(0,t.identity)(e):(c=b-v,d=g-M,p=m-O,h=1/Math.sqrt(c*c+d*d+p*p),c*=h,d*=h,p*=h,i=w*p-x*d,o=x*c-y*p,s=y*d-w*c,h=Math.sqrt(i*i+o*o+s*s),h?(h=1/h,i*=h,o*=h,s*=h):(i=0,o=0,s=0),u=d*s-p*o,l=p*i-c*s,f=c*o-d*i,h=Math.sqrt(u*u+l*l+f*f),h?(h=1/h,u*=h,l*=h,f*=h):(u=0,l=0,f=0),e[0]=i,e[1]=u,e[2]=c,e[3]=0,e[4]=o,e[5]=l,e[6]=d,e[7]=0,e[8]=s,e[9]=f,e[10]=p,e[11]=0,e[12]=-(i*b+o*g+s*m),e[13]=-(u*b+l*g+f*m),e[14]=-(c*b+d*g+p*m),e[15]=1,e)},t.multiply=(e,t,r)=>{let n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],f=t[7],c=t[8],d=t[9],p=t[10],h=t[11],b=t[12],g=t[13],m=t[14],y=t[15],w=r[0],x=r[1],v=r[2],M=r[3];return e[0]=w*n+x*s+v*c+M*b,e[1]=w*a+x*u+v*d+M*g,e[2]=w*i+x*l+v*p+M*m,e[3]=w*o+x*f+v*h+M*y,w=r[4],x=r[5],v=r[6],M=r[7],e[4]=w*n+x*s+v*c+M*b,e[5]=w*a+x*u+v*d+M*g,e[6]=w*i+x*l+v*p+M*m,e[7]=w*o+x*f+v*h+M*y,w=r[8],x=r[9],v=r[10],M=r[11],e[8]=w*n+x*s+v*c+M*b,e[9]=w*a+x*u+v*d+M*g,e[10]=w*i+x*l+v*p+M*m,e[11]=w*o+x*f+v*h+M*y,w=r[12],x=r[13],v=r[14],M=r[15],e[12]=w*n+x*s+v*c+M*b,e[13]=w*a+x*u+v*d+M*g,e[14]=w*i+x*l+v*p+M*m,e[15]=w*o+x*f+v*h+M*y,e},t.ortho=(e,t,r,n,a,i,o)=>{let s=1/(t-r),u=1/(n-a),l=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(a+n)*u,e[14]=(o+i)*l,e[15]=1,e},t.perspective=(e,t,r,n,a)=>{let i=1/Math.tan(t/2),o=1/(n-a);return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*o,e[15]=0,e},t.perspectiveFromFieldOfView=(e,t,r,n)=>{let a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(a+i);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(a-i)*l*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e},t.rotate=(e,t,r,n)=>{let a,i,o,s,u,l,f,c,d,p,h,b,g,m,y,w,x,v,M,O,S,k,j,C,A=n[0],I=n[1],T=n[2],N=Math.sqrt(A*A+I*I+T*T);return Math.abs(N)<1e-6?null:(N=1/N,A*=N,I*=N,T*=N,a=Math.sin(r),i=Math.cos(r),o=1-i,s=t[0],u=t[1],l=t[2],f=t[3],c=t[4],d=t[5],p=t[6],h=t[7],b=t[8],g=t[9],m=t[10],y=t[11],w=A*A*o+i,x=I*A*o+T*a,v=T*A*o-I*a,M=A*I*o-T*a,O=I*I*o+i,S=T*I*o+A*a,k=A*T*o+I*a,j=I*T*o-A*a,C=T*T*o+i,e[0]=s*w+c*x+b*v,e[1]=u*w+d*x+g*v,e[2]=l*w+p*x+m*v,e[3]=f*w+h*x+y*v,e[4]=s*M+c*O+b*S,e[5]=u*M+d*O+g*S,e[6]=l*M+p*O+m*S,e[7]=f*M+h*O+y*S,e[8]=s*k+c*j+b*C,e[9]=u*k+d*j+g*C,e[10]=l*k+p*j+m*C,e[11]=f*k+h*j+y*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},t.rotateX=(e,t,r)=>{let n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],s=t[6],u=t[7],l=t[8],f=t[9],c=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+l*n,e[5]=o*a+f*n,e[6]=s*a+c*n,e[7]=u*a+d*n,e[8]=l*a-i*n,e[9]=f*a-o*n,e[10]=c*a-s*n,e[11]=d*a-u*n,e},t.rotateY=(e,t,r)=>{let n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],u=t[3],l=t[8],f=t[9],c=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-l*n,e[1]=o*a-f*n,e[2]=s*a-c*n,e[3]=u*a-d*n,e[8]=i*n+l*a,e[9]=o*n+f*a,e[10]=s*n+c*a,e[11]=u*n+d*a,e},t.rotateZ=(e,t,r)=>{let n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],u=t[3],l=t[4],f=t[5],c=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+l*n,e[1]=o*a+f*n,e[2]=s*a+c*n,e[3]=u*a+d*n,e[4]=l*a-i*n,e[5]=f*a-o*n,e[6]=c*a-s*n,e[7]=d*a-u*n,e},t.scale=(e,t,r)=>{let n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.str=e=>"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")",t.translate=(e,t,r)=>{let n,a,i,o,s,u,l,f,c,d,p,h,b=r[0],g=r[1],m=r[2];return t===e?(e[12]=t[0]*b+t[4]*g+t[8]*m+t[12],e[13]=t[1]*b+t[5]*g+t[9]*m+t[13],e[14]=t[2]*b+t[6]*g+t[10]*m+t[14],e[15]=t[3]*b+t[7]*g+t[11]*m+t[15]):(n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],f=t[7],c=t[8],d=t[9],p=t[10],h=t[11],e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=f,e[8]=c,e[9]=d,e[10]=p,e[11]=h,e[12]=n*b+s*g+c*m+t[12],e[13]=a*b+u*g+d*m+t[13],e[14]=i*b+l*g+p*m+t[14],e[15]=o*b+f*g+h*m+t[15]),e},t.transpose=(e,t)=>{if(e===t){let r=t[1],n=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},846:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleEventEmitter=t.Ascii85=t.ColorUtils=t.Color=t.BezierEasing=t.Base64=t.gl=t.mergeClasses=t.JSONStringify=void 0;var u=r(10);Object.defineProperty(t,"JSONStringify",{enumerable:!0,get:function(){return s(u).default}});var l=r(440);Object.defineProperty(t,"mergeClasses",{enumerable:!0,get:function(){return s(l).default}}),i(r(235),t),i(r(923),t),i(r(827),t),t.gl=o(r(565));var f=r(550);Object.defineProperty(t,"Base64",{enumerable:!0,get:function(){return s(f).default}});var c=r(995);Object.defineProperty(t,"BezierEasing",{enumerable:!0,get:function(){return s(c).default}});var d=r(709);Object.defineProperty(t,"Color",{enumerable:!0,get:function(){return s(d).default}}),t.ColorUtils=o(r(709));var p=r(627);Object.defineProperty(t,"Ascii85",{enumerable:!0,get:function(){return s(p).default}});var h=r(829);Object.defineProperty(t,"SimpleEventEmitter",{enumerable:!0,get:function(){return s(h).default}})},440:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t)=>{for(const r of Object.keys(t))e.hasOwnProperty(r)||Object.defineProperty(e,r,{get:function(){return t[r]},set:function(e){t[r]=e}});return e};t.default=(e,t)=>{if("Object"===t.constructor.name)return Object.assign(e,t);{const n=(e=>{const t=(e=>{let t=[],r=e.constructor;do{const e=Object.getOwnPropertyNames(r.prototype);t=t.concat(e.filter((e=>"constructor"!==e))),r=Object.getPrototypeOf(r)}while(r.prototype);return t})(e),r={};for(const n of t)"function"==typeof e[n]&&(r[n]=function(...t){return e[n].apply(e,t)});return r})(t);return e=r(e,t),r(e,n)}}},235:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mimeTypeFromBuffer=void 0;const r={ffd8ffe000104a464946:"image/jpeg","89504e470d0a1a0a0000":"image/png","47494638396126026f01":"image/gif","52494646574f455053":"image/webp","464c4946":"image/flif","424d":"image/bmp","49492a00":"image/tiff","4d4d002a":"image/tiff","49492a00100000004352":"image/tiff","4d4d002a000000005200":"image/tiff","654c696673":"image/x-xcf","4954534608000000600000":"image/x-canon-cr2","495453461a00000003000000":"image/x-canon-cr3","414f4c4949":"image/vnd.ms-photo",38425053:"image/vnd.adobe.photoshop","3c3f78646f636d656e74":"application/x-indesign","504b0304":"application/epub+zip","526172211a0700cf9073":"application/x-rar-compressed","504b0708":"application/x-rar-compressed","504b0304140006000800":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",d0cf11e0a1b11ae10000:"application/msword",25504446:"application/pdf","1f8b08":"application/gzip","1f9d90":"application/x-tar","425a68":"application/x-bzip2","377abcaf271c":"application/x-7z-compressed","425a68393141524320202020202000":"application/x-7z-compressed","4d534346":"application/x-apple-diskimage",61726301:"application/x-apache-arrow",66747970:"video/mp4","4d546864":"audio/midi","1a45dfa3":"video/x-matroska","1a45dfa3010000000000":"video/x-matroska","00000014667479706d703432":"video/webm",77415645:"video/quicktime",52494646:"video/mp4","524946464f4500013000":"video/mpeg",fffb:"audio/mpeg",fff3:"audio/mp3",666675:"audio/opus","4f676753":"video/ogg","664c6143":"audio/x-flac",41564520:"audio/ape","7776706b":"audio/wavpack","464f524d00":"audio/amr","7f454c46":"application/x-elf","436f6e74656e742d74797065":"application/x-shockwave-flash","7b5c727466":"application/rtf","0061736d":"application/wasm","774f4646":"audio/x-wav",d46d9d6c:"audio/x-musepack","0d0a0d0a":"text/calendar",42494638:"video/x-flv","252150532d41646f6265":"application/eps",fd377a585a00:"application/x-xz","53514c69746520666f726d6174203300":"application/x-sqlite3","4e45531a":"application/x-nintendo-nes-rom",21:"text/plain",314159265359:"text/plain","7801730d626260":"text/plain","7865726d":"text/plain",6375736800000002e4:"text/plain",49545346:"application/x-deb","504b030414":"application/x-compress","0000001a667479703367706832":"video/mp2t","424c5030":"application/x-blender",4250473031:"image/bpg","4a2d2d20":"image/j2c","0000000cjp2":"image/jp2","0d0a870a":"image/jpx","6a5020200d0a870a":"image/jpx","000000186a703268":"image/jpx","6d6a703268":"image/jpm","4d4a32":"image/mj2","464f524d20":"audio/aiff","3c3f786d6c":"application/xml",7573746172:"application/tar+gzip",465753:"application/x-mobipocket-ebook","667479706d6f6f6d":"application/vnd.tcpdump.pcap","444d5321":"audio/x-dsf","4c495445":"application/x.ms.shortcut","53746f7261676554696d6573":"application/x.apple.alias",46575320:"application/x-mobipocket-ebook","6f6c796d7075733f6772652d":"audio/opus","4f52494643":"image/x-olympus-orf",49534328:"image/x-sony-arw",49534344:"image/x-adobe-dng",49545046:"image/x-panasonic-rw2",465547464946:"image/x-fujifilm-raf",667479702:"video/3gpp2",fff30000:"audio/aac","466f726d6174203300":"audio/x-it",44534420:"application/x-esri-shape",494433:"audio/aac","5a4f4f20":"application/x-xz",fdfd580000:"application/x-sqlite3","50616e20636f6f6b696e":"image/x-icon",47494638:"image/gif",4649463837610111:"image/vnd.adobe.photoshop","0000010000":"application/x-elf","4d5a":"application/x-msdownload","437265617469766520436f6d6d656e74":"application/vnd.ms-htmlhelp",415647:"model/stl","6d737132":"model/3mf","000001c0":"image/jxl",b501:"application/zstd","4a4c53":"image/jls",e3828596:"audio/x-rmf","2345584548494c5":"application/vnd.ms-outlook","0c6d6b6e6f74656e73":"audio/x-mid","1a0b617272616e673135":"application/x-arj","6173642020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020":"application/x-squashfs","3026b2758e66cf11a6d900aa0062ce6c":"application/x-msdownload","536c595845":"application/vnd.iccprofile"};t.mimeTypeFromBuffer=e=>{const t=e.toString("hex",0,16);for(const e in r)if(t.startsWith(e))return r[e];return"application/octet-stream"}},923:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.objectToUrlParams=t.getAllUrlParams=t.bytesToNumber=t.numberToBytes=t.decodeString=t.encodeString=t.defer=t.getGlobalObject=t.deepEqual=t.safeGet=t.contains=t.uuidv4=t.asyncForEach=void 0;const n=r(827);t.asyncForEach=(e,t)=>new Promise((async(r,n)=>{try{for(let r=0;r<e.length;r++)await t(e[r],r,e);r()}catch(e){n(e)}})),t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.deepEqual=function e(t,r){if(t===r)return!0;const a=Object.keys(t),i=Object.keys(r);for(const o of a){if(!i.includes(o))return!1;const a=t[o],s=r[o];if((0,n.isObject)(a)&&(0,n.isObject)(s)){if(!e(a,s))return!1}else if(a!==s)return!1}for(const e of i)if(!a.includes(e))return!1;return!0},t.getGlobalObject=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("Unable to locate global object.")},t.defer=function(e){process.nextTick(e)},t.encodeString=function(e){if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);if("function"==typeof Buffer){const t=Buffer.from(e,"utf-8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}{const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n>128){if(55296==(55296&n)){const t=e.charCodeAt(r+1);if(56320!=(56320&t))throw new Error("follow-up utf-16 character does not start with 0xDC00");r++,n=65536|(1023&n)<<10|1023&t}if(n<2048){const e=192|n>>6&31,r=128|63&n;t.push(e,r)}else if(n<65536){const e=224|n>>12&15,r=128|n>>6&63,a=128|63&n;t.push(e,r,a)}else{if(!(n<2097152))throw new Error(`Cannot convert character ${e.charAt(r)} (code ${n}) to utf-8`);{const e=240|n>>18&7,r=128|n>>12&63,a=128|n>>6&63,i=128|63&n;t.push(e,r,a,i)}}}else t.push(n<128?n:63)}return new Uint8Array(t)}},t.decodeString=function(e){if("undefined"!=typeof TextDecoder){const t=new TextDecoder;if(e instanceof Uint8Array)return t.decode(e);const r=Uint8Array.from(e);return t.decode(r)}if("function"==typeof Buffer){if(e instanceof Array&&(e=Uint8Array.from(e)),!(e instanceof Buffer)&&"buffer"in e&&e.buffer instanceof ArrayBuffer){const t=e;e=Buffer.from(t.buffer,t.byteOffset,t.byteLength)}if(!(e instanceof Buffer))throw new Error("Unsupported buffer argument");return e.toString("utf-8")}if(!(e instanceof Uint8Array)&&"buffer"in e&&e.buffer instanceof ArrayBuffer){const t=e;e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if(e instanceof Buffer||e instanceof Array||e instanceof Uint8Array){let t="";for(let r=0;r<e.length;r++){let n=e[r];if(n>128)if(240==(240&n))n=(7&n)<<18|(63&e[r+1])<<12|(63&e[r+2])<<6|63&e[r+3],r+=3;else if(224==(224&n))n=(15&n)<<12|(63&e[r+1])<<6|63&e[r+2],r+=2;else{if(192!=(192&n))throw new Error("invalid utf-8 data");n=(31&n)<<6|63&e[r+1],r++}if(n>=65536){n^=65536;const e=55296|n>>10,r=56320|1023&n;t+=String.fromCharCode(e),t+=String.fromCharCode(r)}else t+=String.fromCharCode(n)}return t}throw new Error("Unsupported buffer argument")},t.numberToBytes=function(e){const t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e),new Array(...t)},t.bytesToNumber=function(e){if(8!==(Array.isArray(e)?e.length:e.byteLength))throw new TypeError("must be 8 bytes");const t=new Uint8Array(e);return new DataView(t.buffer).getFloat64(0)},t.getAllUrlParams=function(e){let t=e?e.split("?")[1]:"undefined"!=typeof window&&window.location&&window.location.search?window.location.search.slice(1):"",r={};if(t){t=t.split("#")[0];let e=t.split("&");for(let t=0;t<e.length;t++){let n=e[t].split("="),a=n[0],i=void 0===n[1]||n[1];if(a=a.toLowerCase(),"string"==typeof i&&(i=decodeURIComponent(i).toLowerCase()),/\[(\d+)?\]$/.test(a)){let e=a.replace(/\[(\d+)?\]/,"");if(r[e]||(r[e]=[]),/\[\d+\]$/.test(a)){let t=parseInt(/\[(\d+)\]/.exec(a)[1]);r[e][t]=i}else r[e].push(i)}else r[a]?r[a]&&"string"==typeof r[a]?(r[a]=[r[a]],r[a].push(i)):r[a].push(i):r[a]=i}}return r},t.objectToUrlParams=function(e){return Object.keys(e).map((t=>{const r=e[t];return Array.isArray(r)?r.map((e=>`${encodeURIComponent(t)}[]=${encodeURIComponent(e)}`)).join("&"):`${encodeURIComponent(t)}=${encodeURIComponent(r)}`})).join("&")}},827:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=t.isUrlValid=t.isPhoneValid=t.isPasswordValid=t.isEmailValid=t.isBuffer=t.isSymbol=t.isFunction=t.isUndefined=t.isDate=t.isInfinity=t.isNotNumber=t.isNull=t.isFloat=t.isInt=t.isNumberValid=t.isNumber=t.isBoolean=t.isString=t.isJson=t.isObject=t.isTypedArray=t.isArray=void 0,t.isArray=e=>Array.isArray(e)&&"object"==typeof e,t.isTypedArray=e=>"object"==typeof e&&["ArrayBuffer","Buffer","Uint8Array","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array"].includes(e.constructor.name),t.isObject=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),t.isJson=e=>{try{const r=JSON.parse("string"==typeof e?e:JSON.stringify(e));return(0,t.isObject)(r)}catch(e){return!1}},t.isString=e=>"string"==typeof e,t.isBoolean=e=>"boolean"==typeof e,t.isNumber=e=>"number"==typeof e&&Number(e)===e,t.isNumberValid=e=>{if("number"==typeof e)return!0;if("string"!=typeof e)return!1;const t=parseFloat(e);return!isNaN(t)&&isFinite(t)&&/^(\-)?\d+(\.\d+)?$/.test(e)},t.isInt=e=>(0,t.isNumber)(e)&&e%1==0,t.isFloat=e=>(0,t.isNumber)(e)&&e%1!=0,t.isNull=e=>null===e&&"object"==typeof e,t.isNotNumber=e=>"number"==typeof e&&isNaN(e),t.isInfinity=e=>"number"==typeof e&&!isFinite(e),t.isDate=e=>e instanceof Date||"object"==typeof e&&null!==e&&"function"==typeof e.getMonth||"string"==typeof e&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z?$/.test(e)&&!isNaN(Date.parse(e)),t.isUndefined=e=>void 0===e&&void 0===e,t.isFunction=e=>"function"==typeof e,t.isSymbol=e=>"symbol"==typeof e,t.isBuffer=e=>null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e),t.isEmailValid=e=>"string"==typeof e&&/^\b[\w\.-]+@[\w\.-]+\.\w{2,4}\b$/gi.test(e),t.isPasswordValid=e=>"string"==typeof e&&/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm.test(e),t.isPhoneValid=e=>"string"==typeof e&&new RegExp("^((1[1-9])|([2-9][0-9]))((3[0-9]{3}[0-9]{4})|(9?[0-9]{3}[0-9]{5}))$").test(String(e).replace(/\D/gi,"")),t.isUrlValid=e=>"string"==typeof e&&/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e),t.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r(846)})()));